## 手把手nodejs指南

-  指南（一）- 3  
-  指南（二）- 204  
-  指南（三）- 273  
- 指南 （四）- 314  
- 指南（五）- 356  
- 指南（六）- 438  


---------
事前準備:  

.  node -v 16.20.1  
.  npm -v 8.19.4  
.  開一個blog的空白文件夾  

---

要做的事:  
 1. 安裝npm 庫(Library)  
 2. 安裝 library  
 3. 加.gitignore
-----

  ### 安裝npm 庫(Library)  
1. 在終端機  
```
    npm init 
```
2. 不停按enter , 最後 y
```
Press ^C at any time to quit.  
package name: (blog)   
version: (1.0.0)   
description:   
entry point: (index.js)   
test command:   
git repository:   
keywords:   
author:   
license: (ISC)   
About to write to /home/user/桌面/資料/nodejs/Blog/package.json:  

{
  "name": "blog",  
  "version": "1.0.0",  
  "description": "",  
  "main": "index.js",  
  "scripts": {  
    "test": "echo \"Error: no test specified\" && exit 1"  
  },  
  "author": "",  
  "license": "ISC"  
}  


Is this OK? (yes) y  

```
之後在目錄多了package.json  
  ----


## 安裝library  
1. 在終端機  
```
npm install express nodemon 
```

## 加.gitignore
在目錄裹,開一個.gitignore的檔案

1. ./.gitignore  
```
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*
.pnpm-debug.log*

# Diagnostic reports (https://nodejs.org/api/report.html)
report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Directory for instrumented libs generated by jscoverage/JSCover
lib-cov

# Coverage directory used by tools like istanbul
coverage
*.lcov

# nyc test coverage
.nyc_output

# Grunt intermediate storage (https://gruntjs.com/creating-plugins#storing-task-files)
.grunt

# Bower dependency directory (https://bower.io/)
bower_components

# node-waf configuration
.lock-wscript

# Compiled binary addons (https://nodejs.org/api/addons.html)
build/Release

# Dependency directories
node_modules/
jspm_packages/

# Snowpack dependency directory (https://snowpack.dev/)
web_modules/

# TypeScript cache
*.tsbuildinfo

# Optional npm cache directory
.npm

# Optional eslint cache
.eslintcache

# Optional stylelint cache
.stylelintcache

# Microbundle cache
.rpt2_cache/
.rts2_cache_cjs/
.rts2_cache_es/
.rts2_cache_umd/

# Optional REPL history
.node_repl_history

# Output of 'npm pack'
*.tgz

# Yarn Integrity file
.yarn-integrity

# dotenv environment variable files
.env
.env.development.local
.env.test.local
.env.production.local
.env.local

# parcel-bundler cache (https://parceljs.org/)
.cache
.parcel-cache

# Next.js build output
.next
out

# Nuxt.js build / generate output
.nuxt
dist

# Gatsby files
.cache/
# Comment in the public line in if your project uses Gatsby and not Next.js
# https://nextjs.org/blog/next-9-1#public-directory-support
# public

# vuepress build output
.vuepress/dist

# vuepress v2.x temp and cache directory
.temp
.cache

# Docusaurus cache and generated files
.docusaurus

# Serverless directories
.serverless/

# FuseBox cache
.fusebox/

# DynamoDB Local files
.dynamodb/

# TernJS port file
.tern-port

# Stores VSCode versions used for testing VSCode extensions
.vscode-test

# yarn v2
.yarn/cache
.yarn/unplugged
.yarn/build-state.yml
.yarn/install-state.gz
.pnp.*
```

----

 ## 指南（二）- 204

 要做的事:  
 1. 建立 web server  
 2. 運行 web server
 ----

 ### 1.  建立 web server  
 ---

 1. ./package.json
 ```
 {
  "name": "blog",
  "version": "1.0.0",
  "description": "node -v 16.20.1", //“  ”改了 “node -v 16.20.1”
  "main": "server.js",  // “index.js” 改了 "server.js"
  "type": "module", //加了
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "start": "node server.js" //加了
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "express": "^4.18.2",
    "nodemon": "^3.0.1"
  }
}

 ```

 2.  在目錄新開名叫server.js 的檔案  
 ```
├── node_modules
├── package.json
├── package-lock.json
├── server.js //新加

 ```
3. ./server.js
```
import express from "express";
const app = express();

app.listen(3000,()=>{
    console.log('3000')
})

```
### 2. 運行 web server  

1. 在終端機  
```
npm start
```
之後在終端機顯示以下
```
> blog@1.0.0 start
> node server.js

3000

```
最主要都是看 3000

---

## 指南（三）- 273  

要做的事: 

- 建立API && 測試API  

---

### 建立API && 測試API  

1. ./ server.js  
```
import express from "express";
const app = express();


app.get('/',(req,res)=>{  //增加
    res.send('is work')   //增加
})   //增加


app.listen(3000,()=>{
    console.log('3000')
})

```
2. 之後開始測驗API  
    用vscode裹的Thunder   
    在終端機  
    ```
    npm start
    ```

    在Thunder 
    <img src="./node-blog/API 測試 .png">  

    看到 is work 你就是成功

    ---

    ## 指南(四) - 314  

    要做的事：
    - 建立多個API 

    ---
    1. ./ server.js  

```
import express from "express";
const app = express();


app.get('/',(req,res)=>{  
    res.send('home') // is work 改了 home  
})  

app.get('/about',(req,res)=>{  //增加  
    res.send('about')  //增加  
})//增加  

app.get('/register',(req,res)=>{ //增加  
    res.send('register') //增加  
}) //增加  

app.get('/login', (req,res)=>{  //增加   
    res.send('login') //增加  
})  //增加  

app.get('/blog',(req,res)=>{  //增加  
    res.send('blog')  //增加  
})  //增加  


app.listen(3000,()=>{  
    console.log('3000')  
})  

```
---

## 指南（五）- 356  

要做的事：  
- 安裝View Engine  
- 設定View Engine  

---
###    安裝View Engine  

1. 在終端機  
```
npm install ejs
```
之後在 package.json 裹  
```
{
  "name": "blog",
  "version": "1.0.0",
  "description": "node -v 16.20.1",
  "main": "server.js",
  "type": "module",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "start": "node server.js"
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "ejs": "^3.1.9",  //會自動增加  
    "express": "^4.18.2",
    "nodemon": "^3.0.1"
  }
}
```
---


### 設定View Engine   

1.  ./server.js

```
import express from "express";
const app = express();

// set view engine
app.set('view engine' , 'ejs');  //增加


// router
app.get('/',(req,res)=>{
    res.send('home')
})

app.get('/about',(req,res)=>{
    res.send('about')
})

app.get('/register',(req,res)=>{
    res.send('register')
})

app.get('/login', (req,res)=>{
    res.send('login')
})

app.get('/blog',(req,res)=>{
    res.send('blog')
})


app.listen(3000,()=>{
    console.log('3000')
})


```

---

## 指南（六）- 438  

要做的事: 

- 建立views && templates page

---

### 建立views && templates page 

1. 在目錄裹開一個views的文件夾
```
├── node_modules
├── package.json
├── package-lock.json
├── server.js
├── views  //加了
```
2. 在views裹分別創建about.ejs , blog.ejs , home.ejs , login.ejs , register.ejs
```
├── node_modules
├── package.json
├── package-lock.json
├── server.js
├── views
│   ├── about.ejs
│   ├── blog.ejs
│   ├── home.ejs
│   ├── login.ejs
│   └── register.ejs

```  
3. views/about.ejs  
```
about
```  
4. views/blog.ejs  
```
blog
```
5. views/home.ejs
```
home
```  
6. views/login.ejs
```
login
```
7. views/register.ejs
```
register
```

---